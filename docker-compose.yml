version: '3.7'
services:
  # database:
  #   image: postgres:13-alpine
  #   ports: 
  #   - 5432:5432
  #   environment:
  #     POSTGRES_DB: ${POSTGRES_DB}
  #     POSTGRES_USER: ${POSTGRES_USER}
  #     POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
  #     POSTGRES_HOST_AUTH_METHOD: trust
  #   volumes:
  #   - order_database:/var/lib/postgresql/data:delegated
  #   networks:
  #   - order_local
  api:
    build: .
    ports: 
    - ${API_PORT}:8080
    networks:
    - order_local
volumes:
  order_database: null
networks:
  order_local: null
  order_external: 
    external: true
    name: "order_external"